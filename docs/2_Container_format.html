<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>2 Container format</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-container</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d2e233">Applications</a><a class="dropdown-item" href="1_Description.html#d2e320">Working with containers</a></div></li><li class="nav-item dropdown"><a href="2_Container_format.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Container format <span class="caret"/></a><div class="dropdown-menu"><a href="2_Container_format.html" class="dropdown-item">Container format</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Container_format.html#container-format-xproc-1">XProc 1.0 container format</a><a class="dropdown-item" href="2_Container_format.html#container-format-xproc-3">XProc 3.0 container format</a></div></li><li class="nav-item dropdown"><a href="3_XProc_1.0_Libraries.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Libraries <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_1.0_Libraries.html" class="dropdown-item">XProc 1.0 Libraries</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_1.0_Libraries.html#container.mod.xpl">XProc (1.0) library: container.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="4_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-container-to-disk.xpl">XProc (3.0) pipeline: container-to-disk.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-container-to-zip.xpl">XProc (3.0) pipeline: container-to-zip.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-directory-to-container.xpl">XProc (3.0) pipeline: directory-to-container.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-load-for-container.xpl">XProc (3.0) pipeline: load-for-container.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-load-from-container.xpl">XProc (3.0) pipeline: load-from-container.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-report-error.xpl">XProc (3.0) pipeline: report-error.xpl</a><a class="dropdown-item" href="4_XProc_3.0_Support.html#xproc3-zip-to-container.xpl">XProc (3.0) pipeline: zip-to-container.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="5_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XML_Schemas.html#container-xpl3.xsd">XML Schema: container-xpl3.xsd</a><a class="dropdown-item" href="5_XML_Schemas.html#container.xsd">XML Schema: container.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-container-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-container-format"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">2 </span>Container format</h1></div><p class="para"><b>WARNING:</b> The container formats and processing features differ between the XProc 1.0 and the 3.0
      version!</p><ul class="itemizedlist"><li><p class="para"><a href="#container-format-xproc-1"><span class="link">Description of the container format for XProc 1.0</span></a></p></li><li><p class="para"><a href="#container-format-xproc-3"><span class="link">Description of the container format for XProc 3.0</span></a></p></li></ul><div class="sect1" id="container-format-xproc-1"><a name="container-format-xproc-1"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.1</span> XProc 1.0 container format</h2><p class="para">The schema for the XProc 1.0 container format can be found in <code class="code">xsd/container.xsd</code>.</p><p class="para">The root of an XProc 1.0 XML container document is an <code class="tag">&lt;xtlcon:document-container&gt;</code> element. The prefix
          <code class="code">xtlcon:</code> must be bound to the namespace <code class="code">http://www.xtpxlib.nl/ns/container</code>
          (<code class="code">xmlns:xtlcon="http://www.xtpxlib.nl/ns/container"</code>).</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document-container timestamp = xs:dateTime
                           href-source-zip? = xs:string
                           href-target-zip? = xs:string
                           href-target-zip-result? = xs:string
                           href-target-zip-tmpdir? = xs:string
                           href-source-path? = xs:string
                           href-target-path? = xs:string
                           href-target-result-path? = xs:string
                           (any)? &gt;
  ( &lt;xtlcon:document&gt; |
    &lt;xtlcon:external-document&gt; |
    &lt;(any)&gt; )*
&lt;/xtlcon:document-container&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">timestamp</code></td><td>1</td><td><code class="code">xs:dateTime</code></td><td>The timestamp when this container was initially created/generated.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a zip file (using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_zip-to-container"><span class="link">xtlcon:zip-to-container</span></a></code>), this attribute
        holds the href of this zip file.</td></tr><tr><td><code class="code">href-target-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Holds the name of the zip file for writing the container to (using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>).</td></tr><tr><td><code class="code">href-target-zip-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a zip file using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>, this attribute
        will hold the full canonical filename of the zip file.</td></tr><tr><td><code class="code">href-target-zip-tmpdir</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a zip file using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>, this attribute
        will hold the full canonical name of the temporary directory used for this process (probably not very
        useful).</td></tr><tr><td><code class="code">href-source-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a directory (using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_directory-to-container"><span class="link">xtlcon:directory-to-container</span></a></code>), this
        attribute holds the href of this directory.</td></tr><tr><td><code class="code">href-target-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Holds the name of the directory for writing the container to (using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code>).</td></tr><tr><td><code class="code">href-target-result-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a directory file using <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code>, this attribute
        will hold the full canonical name of the directory.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">xtlcon:document</code></td><td>*</td><td>A document inside the container structure. See <a href="#sect-internal-documents" class="xref">2.1.1 Internal documents</a>.</td></tr><tr><td><code class="code">xtlcon:external-document</code></td><td>*</td><td>An external document, referenced from the container structure. See <a href="#sect-external-documents" class="xref">2.1.2 External documents</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>*</td><td>Any other elements are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><div class="sect2" id="sect-internal-documents"><a name="sect-internal-documents"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.1.1</span> Internal documents</h3><p class="para">An <span class="emphasis italic">internal</span> document is a document whose contents is inside the container document. This will
          in most cases be XML documents, but text is also possible. It must be surrounded by an <code class="tag">&lt;xtlcon:document&gt;</code> element:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document href-source? = xs:string
                 href-source-result? = xs:string
                 href-target? = xs:string
                 href-target-result? = xs:string
                 mime-type? = xs:string
                 (any)? &gt;
  &lt;(any)&gt;
&lt;/xtlcon:document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href-source</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the source for this document.<br/>When this document comes from a zip file, it holds the href of the file <span class="emphasis italic">in</span> the zip.</td></tr><tr><td><code class="code">href-source-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the source file.</td></tr><tr><td><code class="code">href-target</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the target for this document.</td></tr><tr><td><code class="code">href-target-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the target file.</td></tr><tr><td><code class="code">mime-type</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Some specific values for this attribute trigger special conversions on output. See <a href="#sect-container-document-mime-type-values" class="xref">2.1.3 Document MIME type values</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>1</td><td>Root element + contents of the document.</td></tr></tbody></table></div></div><div class="sect2" id="sect-external-documents"><a name="sect-external-documents"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.1.2</span> External documents</h3><p class="para">An <span class="emphasis italic">external</span> document is a document that is only referenced from the container. Usually binary
          files but anything goes. The referencing is done using an <code class="tag">&lt;xtlcon:external-document&gt;</code> element:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:external-document (attributes-from-internal-document)?
                          href-source-zip? = xs:string
                          href-source-zip-result? = xs:string
                          not-in-global-source-zip? = xs:boolean &gt;
  &lt;(any)&gt;
&lt;/xtlcon:external-document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><p class="para">All attributes of an <a href="#sect-internal-documents"><span class="link">internal document</span></a> plus the following:</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(attributes-from-internal-document)</code></td><td>?</td><td/><td>See <a href="#sect-internal-documents"><span class="link">internal documents</span></a>.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Reference to the source zip file for this document. If present overrides <code class="code">/*/@href-source-zip</code></td></tr><tr><td><code class="code">href-source-zip-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the source zip file.</td></tr><tr><td><code class="code">not-in-global-source-zip</code></td><td>?</td><td><code class="code">xs:boolean</code></td><td>Default: <code class="code">false</code><br/>When set to <code class="code">true</code>, the global zip file <code class="code">/*/@href-source-zip</code> is not used. This is necessary to allow references to
        external files that, when a global zip file is used, come from elsewhere.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>1</td><td>Any other elements are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div></div><div class="sect2" id="sect-container-document-mime-type-values"><a name="sect-container-document-mime-type-values"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.1.3</span> Document MIME type values</h3><p class="para">The <code class="code">xtlcon:document/@mime-type</code> attribute (see <a href="#sect-internal-documents"><span class="link">Internal documents</span></a>) can
          trigger some special treatment of the contents of the element:</p><dl class="variablelist"><dt><code class="code">mime-type="application/pdf"</code>
              <span class="emphasis italic">and</span> the root element is <code class="tag">&lt;fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"&gt;</code></dt><dd><p class="para">The document is assumed to be an XSL-FO document and the FOP XSL-FO processor is called to create a PDF document. The pipelines
                (both <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code> and <code class="code"><a href="3_XProc_1.0_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>) allow you to specify an FOP
                configuration file.</p></dd><dt><code class="code">mime-type="text/plain"</code></dt><dd><p class="para">The contents of the <code class="tag">&lt;xtlcon:document&gt;</code> element will be stringified and stored as text. The schema requires some root
                element to be present as child of <code class="tag">&lt;xtlcon:document&gt;</code> but this is ignored:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:documnent mime-type="text/plain" …&gt;
&lt;dummy-root&gt;Text to be stored
another line…&lt;/dummy-root&gt;
&lt;/xtlcon:document&gt;</pre></div></dd></dl></div></div><div class="sect1" id="container-format-xproc-3"><a name="container-format-xproc-3"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.2</span> XProc 3.0 container format</h2><p class="para">The container format for XProc 3.0 allows documents in XML, HTML, text and JSON format. It can also process JSON as XML.</p><p class="para">The schema for the XProc 3.0 container format can be found in <code class="code">xsd/container-xpl3.xsd</code>.</p><p class="para">The root of an XProc 3.0 XML container document is an <code class="tag">&lt;xtlcon:document-container&gt;</code> element. The prefix
          <code class="code">xtlcon:</code> must be bound to the namespace <code class="code">http://www.xtpxlib.nl/ns/container</code>
          (<code class="code">xmlns:xtlcon="http://www.xtpxlib.nl/ns/container"</code>).</p><div class="note"><p class="note-title"/><p class="para">When you get the container back after processing by one of the pipelines, you'll find most href related attributes (attributes that
          start with <code class="code">href-</code>) copied to an attribute with the same name plus an underscore in front. The values of these added attributes
          will be the fully expanded and canonicalized references.</p><p class="para">For instance: When the container has an attribute <code class="code">href-target-zip="../out.zip"</code>, after processing you'll find an attribute
          like <code class="code">_href-target-zip="file:///ful/path/to/out.zip"</code> on the result.</p></div><p class="para"> </p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document-container timestamp = xs:dateTime
                           href-source-path? = xs:string
                           href-target-path? = xs:string
                           href-source-zip? = xs:string
                           href-target-zip? = xs:string
                           (any)? &gt;
  ( &lt;xtlcon:document&gt; |
    &lt;xtlcon:external-document&gt; |
    &lt;(any)&gt; )*
&lt;/xtlcon:document-container&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">timestamp</code></td><td>1</td><td><code class="code">xs:dateTime</code></td><td>The timestamp when this container was initially created/generated.</td></tr><tr><td><code class="code">href-source-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a directory (using <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-directory-to-container.xpl"><span class="link">xtlcon:directory-to-container</span></a></code>), this attribute holds the href of this directory.</td></tr><tr><td><code class="code">href-target-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Contains the path for the directory when writing the container to (using <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-disk.xpl"><span class="link">xtlcon:container-to-disk</span></a></code>).</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a zip file (using <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-zip-to-container.xpl"><span class="link">xtlcon:zip-to-container</span></a></code>), this attribute holds the href of this zip file.</td></tr><tr><td><code class="code">href-target-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Holds the path for the zip file when zipping the container's contents (using <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-zip.xpl"><span class="link">xtlcon:container-to-zip</span></a></code>).</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional processing information can be added.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">xtlcon:document</code></td><td>*</td><td>A document inside the container structure. See <a href="#sect-xproc3-internal-documents" class="xref">2.2.1 Internal documents</a>.</td></tr><tr><td><code class="code">xtlcon:external-document</code></td><td>*</td><td>An external document, referenced from the container structure. See <a href="#sect-xproc3-external-documents" class="xref">2.2.2 External documents</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>*</td><td>Any other elements are allowed (in a different namespace), so additional processing information can be added.</td></tr></tbody></table></div><div class="sect2" id="sect-xproc3-internal-documents"><a name="sect-xproc3-internal-documents"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.2.1</span> Internal documents</h3><p class="para">An <span class="emphasis italic">internal</span> document is a document whose contents is <span class="emphasis italic">inside</span> the
          container document. It must be surrounded by an <code class="tag">&lt;xtlcon:document&gt;</code> element.</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document href-source? = xs:string
                 href-target? = xs:string
                 href-source-zip? = xs:string
                 content-type? = xs:string
                 serialization? = xs:string
                 (any)? &gt;
  &lt;(any)&gt;
&lt;/xtlcon:document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href-source</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the source for this document. Will be filled by <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-directory-to-container.xpl"><span class="link">xtlcon:directory-to-container</span></a></code> and the <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-zip-to-container.xpl"><span class="link">xtlcon:zip-to-container</span></a></code> pipelines.<br/>When this document comes from disk, it holds the the relative filename against the value of the container's
          <code class="code">/*/@href-source-path</code>.<br/>When this document comes from a zip file, it holds the (relative) href of the file <span class="emphasis italic">in</span> the zip.</td></tr><tr><td><code class="code">href-target</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the target location for this document. Used by the <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-disk.xpl"><span class="link">xtlcon:container-to-disk</span></a></code> and <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-zip.xpl"><span class="link">xtlcon:container-to-zip</span></a></code>
        pipelines.<br/>When writing to disk, a relative filename is made absolute against the container's <code class="code">/*/@href-target-path</code>.<br/>When writing to a zip, it <span class="emphasis italic">must</span> be a relative filename. This will become the path of the file <span class="emphasis italic">in</span>
        the zip file.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>If present, overrides the value of the container's <code class="code">/*/@href-source-zip</code></td></tr><tr><td><code class="code">content-type</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Content (MIME) type of the document. Will be filled by <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-directory-to-container.xpl"><span class="link">xtlcon:directory-to-container</span></a></code> and the <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-zip-to-container.xpl"><span class="link">xtlcon:zip-to-container</span></a></code> pipelines.<br/>If not present when writing a container, <code class="code">text/xml</code> is assumed for internal documents</td></tr><tr><td><code class="code">serialization</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Serialization settings for this document, expressed as a JSON map. To allow the usual double quoted attribute values (<code class="code">"…"</code>), all single quotes
        will be converted to double quotes before JSON parsing is done. <br/>For instance: <code class="code">serialization="{'indent': true}"</code></td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional processing information can be added.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>1</td><td>Document contents (For text and JSON does not need to be XML).</td></tr></tbody></table></div></div><div class="sect2" id="sect-xproc3-external-documents"><a name="sect-xproc3-external-documents"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.2.2</span> External documents</h3><p class="para">An <span class="emphasis italic">external</span> document is a document that is only referenced from the container. Usually binary
          files but anything goes. The referencing is done using an <code class="tag">&lt;xtlcon:external-document&gt;</code> element:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:external-document href-source? = xs:string
                          href-target? = xs:string
                          href-source-zip? = xs:string
                          not-in-zip? = xs:boolean
                          (any)? &gt;
  &lt;(any)&gt;*
&lt;/xtlcon:external-document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href-source</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the source for this document. Will be filled by <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-directory-to-container.xpl"><span class="link">xtlcon:directory-to-container</span></a></code> and the <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-zip-to-container.xpl"><span class="link">xtlcon:zip-to-container</span></a></code> pipelines.<br/>When this document comes from disk, it holds the the relative filename against the value of the container's
          <code class="code">/*/@href-source-path</code>.<br/>When this document comes from a zip file, it holds the (relative) href of the file <span class="emphasis italic">in</span> the zip.</td></tr><tr><td><code class="code">href-target</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the target location for this document. Used by the <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-disk.xpl"><span class="link">xtlcon:container-to-disk</span></a></code> and <code class="code"><a href="4_XProc_3.0_Support.html#xproc3-container-to-zip.xpl"><span class="link">xtlcon:container-to-zip</span></a></code>
        pipelines.<br/>When writing to disk, a relative filename is made absolute against the container's <code class="code">/*/@href-target-path</code>.<br/>When writing to a zip, it <span class="emphasis italic">must</span> be a relative filename. This will become the path of the file <span class="emphasis italic">in</span>
        the zip file.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>If present, overrides the value of the container's <code class="code">/*/@href-source-zip</code></td></tr><tr><td><code class="code">not-in-zip</code></td><td>?</td><td><code class="code">xs:boolean</code></td><td>Forces this document to load from disk, even when a zip file reference is specified.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Default: <code class="code">false</code><br/>Any other attributes are allowed, so additional processing information can be added.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>*</td><td>Any contents allowed for additional processing purposes.</td></tr></tbody></table></div></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>