<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container" lang="en" xml:lang="en">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>2 Container format</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-container</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d1056e196">Applications</a><a class="dropdown-item" href="1_Description.html#d1056e283">Working with containers</a></div></li><li class="nav-item dropdown"><a href="2_Container_format.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Container format <span class="caret"/></a><div class="dropdown-menu"><a href="2_Container_format.html" class="dropdown-item">Container format</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Container_format.html#sect-internal-documents">Internal documents</a><a class="dropdown-item" href="2_Container_format.html#sect-external-documents">External documents</a><a class="dropdown-item" href="2_Container_format.html#sect-container-document-mime-type-values">Document MIME type values</a></div></li><li class="nav-item dropdown"><a href="3_XProc_Libraries.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc Libraries <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_Libraries.html" class="dropdown-item">XProc Libraries</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_Libraries.html#container.mod.xpl">XProc (1.0) library: container.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="4_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="4_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XML_Schemas.html#container.xsd">XML Schema: container.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-container-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-container-format"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">2 </span>Container format</h1></div><p class="para">The root of an XML container document is an <code class="tag">&lt;xtlcon:document-container&gt;</code> element. The prefix
        <code class="code">xtlcon:</code> must be bound to the namespace <code class="code">http://www.xtpxlib.nl/ns/container</code>
        (<code class="code">xmlns:xtlcon="http://www.xtpxlib.nl/ns/container"</code>).</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document-container timestamp = xs:dateTime
                           href-source-zip? = xs:string
                           href-target-zip? = xs:string
                           href-target-zip-result? = xs:string
                           href-target-zip-tmpdir? = xs:string
                           href-source-path? = xs:string
                           href-target-path? = xs:string
                           href-target-result-path? = xs:string
                           (any)? &gt;
  ( &lt;xtlcon:document&gt; |
    &lt;xtlcon:external-document&gt; |
    &lt;(any)&gt; )*
&lt;/xtlcon:document-container&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">timestamp</code></td><td>1</td><td><code class="code">xs:dateTime</code></td><td>The timestamp when this container was initially created/generated.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a zip file (using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_zip-to-container"><span class="link">xtlcon:zip-to-container</span></a></code>), this attribute holds the href of this zip file.</td></tr><tr><td><code class="code">href-target-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Holds the name of the zip file for writing the container to (using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>).</td></tr><tr><td><code class="code">href-target-zip-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a zip file using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>, this attribute will hold the full canonical filename of the zip file.</td></tr><tr><td><code class="code">href-target-zip-tmpdir</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a zip file using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>, this attribute will hold the full canonical name of the temporary directory used for this process
        (probably not very useful).</td></tr><tr><td><code class="code">href-source-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>When the container was read from a directory (using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_directory-to-container"><span class="link">xtlcon:directory-to-container</span></a></code>), this attribute holds the href of this directory.</td></tr><tr><td><code class="code">href-target-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Holds the name of the directory for writing the container to (using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code>).</td></tr><tr><td><code class="code">href-target-result-path</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After the container is written to a directory file using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code>, this attribute will hold the full canonical name of the directory.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">xtlcon:document</code></td><td>*</td><td>A document inside the container structure. See <a href="#sect-internal-documents" class="xref">2.1 Internal documents</a>.</td></tr><tr><td><code class="code">xtlcon:external-document</code></td><td>*</td><td>An external document, referenced from the container structure. See <a href="#sect-external-documents" class="xref">2.2 External documents</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>*</td><td>Any other elements are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><div class="sect1" id="sect-internal-documents"><a name="sect-internal-documents"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.1</span> Internal documents</h2><p class="para">An <span class="emphasis italic">internal</span> document is a document whose contents is inside the container document. This will
        in most cases be XML documents, but text is also possible. It must be surrounded by an <code class="tag">&lt;xtlcon:document&gt;</code> element:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:document href-source? = xs:string
                 href-source-result? = xs:string
                 href-target? = xs:string
                 href-target-result? = xs:string
                 mime-type? = xs:string
                 (any)? &gt;
  &lt;(any)&gt;
&lt;/xtlcon:document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href-source</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the source for this document.<br/>When this document comes from a zip file, it holds the href of the file <span class="emphasis italic">in</span> the zip.</td></tr><tr><td><code class="code">href-source-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the source file.</td></tr><tr><td><code class="code">href-target</code></td><td>?</td><td><code class="code">xs:string</code></td><td>href of the target for this document.</td></tr><tr><td><code class="code">href-target-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the target file.</td></tr><tr><td><code class="code">mime-type</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Some specific values for this attribute trigger special conversions on output. See <a href="#sect-container-document-mime-type-values" class="xref">2.3 Document MIME type values</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Any other attributes are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>1</td><td>Root element + contents of the document.</td></tr></tbody></table></div></div><div class="sect1" id="sect-external-documents"><a name="sect-external-documents"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.2</span> External documents</h2><p class="para">An <span class="emphasis italic">external</span> document is a document that is only referenced from the container. Usually binary
        files but anything goes. The referencing is done using an <code class="tag">&lt;xtlcon:external-document&gt;</code> element:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:external-document (attributes-from-internal-document)?
                          href-source-zip? = xs:string
                          href-source-zip-result? = xs:string
                          not-in-global-source-zip? = xs:boolean &gt;
  &lt;(any)&gt;
&lt;/xtlcon:external-document&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><p class="para">All attributes of an <a href="#sect-internal-documents"><span class="link">internal document</span></a> plus the following:</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(attributes-from-internal-document)</code></td><td>?</td><td/><td>See <a href="#sect-internal-documents"><span class="link">internal documents</span></a>.</td></tr><tr><td><code class="code">href-source-zip</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Reference to the source zip file for this document. If present overrides <code class="code">/*/@href-source-zip</code></td></tr><tr><td><code class="code">href-source-zip-result</code></td><td>?</td><td><code class="code">xs:string</code></td><td>After processing holds the full canonical name of the source zip file.</td></tr><tr><td><code class="code">not-in-global-source-zip</code></td><td>?</td><td><code class="code">xs:boolean</code></td><td>Default: <code class="code">false</code><br/>When set to <code class="code">true</code>, the global zip file <code class="code">/*/@href-source-zip</code> is not used. This is necessary to allow references to
        external files that, when a global zip file is used, come from elsewhere.</td></tr></tbody></table></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Child element</th><th>#</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">(any)</code></td><td>1</td><td>Any other elements are allowed, so additional information can be added for use during processing.</td></tr></tbody></table></div></div><div class="sect1" id="sect-container-document-mime-type-values"><a name="sect-container-document-mime-type-values"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.3</span> Document MIME type values</h2><p class="para">The <code class="code">xtlcon:document/@mime-type</code> attribute (see <a href="#sect-internal-documents"><span class="link">Internal documents</span></a>) can trigger
        some special treatment of the contents of the element:</p><dl class="variablelist"><dt><code class="code">mime-type="application/pdf"</code>
            <span class="emphasis italic">and</span> the root element is <code class="tag">&lt;fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"&gt;</code></dt><dd><p class="para">The document is assumed to be an XSL-FO document and the FOP XSL-FO processor is called to create a PDF document. The pipelines
              (both <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code> and <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>) allow you to specify an FOP configuration
              file.</p></dd><dt><code class="code">mime-type="text/plain"</code></dt><dd><p class="para">The contents of the <code class="tag">&lt;xtlcon:document&gt;</code> element will be stringified and stored as text. The schema requires some root element
              to be present as child of <code class="tag">&lt;xtlcon:document&gt;</code> but this is ignored:</p><div class="programlisting"><pre class="programlisting">&lt;xtlcon:documnent mime-type="text/plain" …&gt;
&lt;dummy-root&gt;Text to be stored
another line…&lt;/dummy-root&gt;
&lt;/xtlcon:document&gt;</pre></div></dd></dl></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>