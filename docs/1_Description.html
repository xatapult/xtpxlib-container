<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container" lang="en" xml:lang="en">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>1 Description</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-container</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d1056e199">Applications</a><a class="dropdown-item" href="1_Description.html#d1056e286">Working with containers</a></div></li><li class="nav-item dropdown"><a href="2_Container_format.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Container format <span class="caret"/></a><div class="dropdown-menu"><a href="2_Container_format.html" class="dropdown-item">Container format</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Container_format.html#sect-internal-documents">Internal documents</a><a class="dropdown-item" href="2_Container_format.html#sect-external-documents">External documents</a><a class="dropdown-item" href="2_Container_format.html#sect-container-document-mime-type-values">Document MIME type values</a></div></li><li class="nav-item dropdown"><a href="3_XProc_Libraries.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc Libraries <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_Libraries.html" class="dropdown-item">XProc Libraries</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_Libraries.html#container.mod.xpl">XProc (1.0) library: container.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="4_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="4_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XML_Schemas.html#container.xsd">XML Schema: container.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-container-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-description"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">1 </span>Description</h1></div><p class="para">In working with XML or HTML, it is often the case that you need to work with multiple documents <span class="emphasis italic">at the same time</span>. And
      in most cases that's rather awkward. For instance, an XSLT transformation processes a single document. And yes, of course you can get others by
      calling the <code class="code">doc()</code> function or produce others using <code class="tag">&lt;xsl:result-document&gt;</code>. But, especially when there are a lot of
      relations between the documents, requires careful and sometimes heavy programming. The idea of <span class="emphasis italic">XML containers</span> tries to
      make this all more manageable.</p><p class="para">An XML container (as handled/used by this module) is an XML structure that holds other XML documents and references to binary files. Here is
      a short example:</p><div class="example"><div class="programlisting"><pre class="programlisting">&lt;document-container xmlns="http://www.xtpxlib.nl/ns/container" 
  timestamp="2019-12-12T12:11:10"
  href-target-path="/my/website/location"&gt;

  &lt;document href-target="index.html"&gt;
    &lt;html&gt; … &lt;/html&gt;
  &lt;/document&gt;

  &lt;document href-target="page1.html"&gt;
    &lt;html&gt; … &lt;/html&gt;
  &lt;/document&gt;

  &lt;external-document href-source="/my/resources/image.jpg" href-target="resources/image.jpg"/&gt;
&lt;/document-container&gt;</pre></div></div><p class="para">This example shows a container, probably generated by some pipeline or XSLT stylesheet, that contains the contents of a simple website. All
      two pages and some image are there. Running this container through <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-disk"><span class="link">xtlcon:container-to-disk</span></a></code> will write it to the path indicated in <code class="code">/*/@href-target-path</code>:
        <code class="code">/my/website/location</code>. The documents <code class="code">index.html</code> and <code class="code">page1.html</code> come from the container, the binary
        <code class="code">image.jpg</code> is copied from the indicated source location. Because everything, every separate file, is in (or referenced in) a
      single encompassing document, lots of things get easier: creating or checking internal referencing, making classes consistent, etc. An XSLT
      stylesheet that gets this as its main document has access to <span class="emphasis italic">all</span> information.</p><p class="para" style="font-size: 50%;"> </p><div class="sect1" id="d1056e199"><a name="d1056e199"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">1.1</span> Applications</h2><p class="para">As it turned out, the whole idea of working with multiple documents in an XML container had several applications:</p><ul class="itemizedlist"><li><p class="para">An important application of the zip format is its use as an overarching storage format for applications. For instance, most office
            suites do this: a Microsoft Word <code class="code">.docx</code> or Excel <code class="code">.xlsx</code> file is actually a zip file with many smaller files inside
            (most of them in XML format). There are many other examples.</p><p class="para">Trying to interpret such a zip file and get something meaningful out of it can be a nightmarish experience, especially if you want to
            follow the standard (and not rely on some file naming convention some engineer cooked up and might change). It takes following links
            through several files to the place the actual interesting information is stored.</p><p class="para">But if you run such a file through <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_zip-to-container"><span class="link">xtlcon:zip-to-container</span></a></code> you get all files in a single encompassing one, making it much, much easier to follow internal
            links and find the right information. The <code class="code"><a href="https://xoffice.xtpxlib.org"><span class="link">xtpxlib-xoffice</span></a></code> component
            does exactly this: it contains pipelines to get the contents of Word and Excel files in an easier to interpret XML format.</p></li><li><p class="para">Going even further with this, it is now much easier to <span class="emphasis italic">change</span> or even <span class="emphasis italic">create</span> such a horribly
            complex Word, Excel or other kind of office zip file:</p><ul class="itemizedlist"><li><p class="para">Read a (template) office document in using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_zip-to-container"><span class="link">xtlcon:zip-to-container</span></a></code>. </p></li><li><p class="para">Change what you need to change (text, spreadsheet cell values, etc.). Leave the rest, with all this complex linking and other
                stuff you don't really need to understand, alone.</p></li><li><p class="para">Write it to a resulting zip file using <code class="code"><a href="3_XProc_Libraries.html#container.mod.xpl-xtlcon_container-to-zip"><span class="link">xtlcon:container-to-zip</span></a></code>.</p></li></ul></li><li><p class="para">A file structure that needs to end up on disk or in a zip file can be created easily using this XML container mechanism.</p></li></ul></div><div class="sect1" id="d1056e286"><a name="d1056e286"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">1.2</span> Working with containers</h2><p class="para">The container format is described <a href="2_Container_format.html#chapter-container-format"><span class="link">here</span></a> Working with XML container documents is done using
        XProc (1.0) pipelines which are described <a href="3_XProc_Libraries.html#chapter-xproc-libraries"><span class="link">here</span></a>.</p><p class="para" style="font-size: 50%;"> </p><p class="para">There are some notable missing features in the current container handling. These are not impossible to implement, the need for them just
        hasn't arisen yet.</p><ul class="itemizedlist"><li><p class="para">You currently cannot control the serialization of the XML documents inside the container. The only thing you can do now is set
            indenting on or off on a <span class="emphasis italic">global</span> level.</p></li><li><p class="para">When writing a zip file you cannot control the compression (different ones, on or off). This means that this mechanism currently can't
            produce e-books (which require an uncompressed first file). </p></li><li><p class="para">You can't work with binary contents <span class="emphasis italic">inside</span> the container, for instance when its <code class="code">base64</code>
            encoded.</p></li></ul></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>