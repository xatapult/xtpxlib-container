<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>3 XProc 3.0 Support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-container</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d2268e238">Applications</a><a class="dropdown-item" href="1_Description.html#d2268e325">Working with containers</a></div></li><li class="nav-item dropdown"><a href="2_Container_format.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Container format <span class="caret"/></a><div class="dropdown-menu"><a href="2_Container_format.html" class="dropdown-item">Container format</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Container_format.html#container-format-xproc-3">XProc 3.0 container format</a><a class="dropdown-item" href="2_Container_format.html#container-format-xproc-1">XProc 1.0 container format</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-container-to-disk.xpl">XProc (3.0) pipeline: container-to-disk.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-container-to-zip.xpl">XProc (3.0) pipeline: container-to-zip.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-directory-to-container.xpl">XProc (3.0) pipeline: directory-to-container.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-load-for-container.xpl">XProc (3.0) pipeline: load-for-container.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-load-from-container.xpl">XProc (3.0) pipeline: load-from-container.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-report-error.xpl">XProc (3.0) pipeline: report-error.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#xproc3-zip-to-container.xpl">XProc (3.0) pipeline: zip-to-container.xpl</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Libraries.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Libraries <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Libraries.html" class="dropdown-item">XProc 1.0 Libraries</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Libraries.html#container.mod.xpl">XProc (1.0) library: container.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="5_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XML_Schemas.html#container-xpl3.xsd">XML Schema: container-xpl3.xsd</a><a class="dropdown-item" href="5_XML_Schemas.html#container.xsd">XML Schema: container.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-container-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-3-libraries"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">3 </span>XProc 3.0 Support</h1></div><p class="para" id="d2268e1723"><a name="d2268e1723"><!----></a>The xtpxlib-container component contains the following support (pipelines and/or libraries) for XProc 3.0:</p><div class="table" id="d2268e1726"><a name="d2268e1726"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e1732" class="thead-light"><tr id="d2268e1733"><th id="d2268e1734"><a name="d2268e1734"><!----></a>Module/Pipeline</th><th id="d2268e1736"><a name="d2268e1736"><!----></a>Description</th></tr></thead><tbody id="d2268e1738"><tr id="d2268e1739"><td id="d2268e1740"><a name="d2268e1740"><!----></a><a name="d2268e1741"><!----></a><code class="code code-width-limited"><a href="#xproc3-container-to-disk.xpl"><span class="link">container-to-disk.xpl</span></a></code></td><td id="d2268e1745"><a name="d2268e1745"><!----></a><a name="d2268e1746"><!----></a>Writes an xtpxlib (3) container structure to disk. A base path must be provided, either as option <code class="code">$href-target</code> path or as <code class="code">/*/@href-target</code>.</td></tr><tr id="d2268e1754"><td id="d2268e1755"><a name="d2268e1755"><!----></a><a name="d2268e1756"><!----></a><code class="code code-width-limited"><a href="#xproc3-container-to-zip.xpl"><span class="link">container-to-zip.xpl</span></a></code></td><td id="d2268e1760"><a name="d2268e1760"><!----></a><a name="d2268e1761"><!----></a>Writes an xtpxlib (3) container structure to a zip file. A name for the output zip can be specified in either option <code class="code">$href-target-zip</code> or on the container in <code class="code">/*/@href-target-zip</code>.</td></tr><tr id="d2268e1769"><td id="d2268e1770"><a name="d2268e1770"><!----></a><a name="d2268e1771"><!----></a><code class="code code-width-limited"><a href="#xproc3-directory-to-container.xpl"><span class="link">directory-to-container.xpl</span></a></code></td><td id="d2268e1775"><a name="d2268e1775"><!----></a><a name="d2268e1776"><!----></a>Loads a directory (with optional sub-directories) into an xtpxlib (3) container structure.</td></tr><tr id="d2268e1778"><td id="d2268e1779"><a name="d2268e1779"><!----></a><a name="d2268e1780"><!----></a><code class="code code-width-limited"><a href="#xproc3-load-for-container.xpl"><span class="link">load-for-container.xpl</span></a></code></td><td id="d2268e1784"><a name="d2268e1784"><!----></a><a name="d2268e1785"><!----></a>Local support step that loads a single file from a zip or file, and performs all the necessary container loading handling. The result will be a single container entry.</td></tr><tr id="d2268e1787"><td id="d2268e1788"><a name="d2268e1788"><!----></a><a name="d2268e1789"><!----></a><code class="code code-width-limited"><a href="#xproc3-load-from-container.xpl"><span class="link">load-from-container.xpl</span></a></code></td><td id="d2268e1793"><a name="d2268e1793"><!----></a><a name="d2268e1794"><!----></a>Step that loads the files, as specified by a container, that need to be written to disk:</td></tr><tr id="d2268e1796"><td id="d2268e1797"><a name="d2268e1797"><!----></a><a name="d2268e1798"><!----></a><code class="code code-width-limited"><a href="#xproc3-report-error.xpl"><span class="link">report-error.xpl</span></a></code></td><td id="d2268e1802"><a name="d2268e1802"><!----></a><a name="d2268e1803"><!----></a>Creates a standard error message for errors occurring in the container pipelines.</td></tr><tr id="d2268e1805"><td id="d2268e1806"><a name="d2268e1806"><!----></a><a name="d2268e1807"><!----></a><code class="code code-width-limited"><a href="#xproc3-zip-to-container.xpl"><span class="link">zip-to-container.xpl</span></a></code></td><td id="d2268e1811"><a name="d2268e1811"><!----></a><a name="d2268e1812"><!----></a>Loads the contents of a zip file (directory depth can be set) into an xtpxlib (3) container structure.</td></tr></tbody></table></div><div class="sect1" id="xproc3-container-to-disk.xpl"><a name="xproc3-container-to-disk.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.1</span> XProc (3.0) pipeline: <code class="code">container-to-disk.xpl</code></h2><p class="para keep-with-next" id="d2268e1819"><a name="d2268e1819"><!----></a>File: <code class="code">xpl3mod/container-to-disk/container-to-disk.xpl</code></p><p class="para" id="d2268e1823"><a name="d2268e1823"><!----></a>Type: <code class="code">xtlcon:container-to-disk</code></p><p class="para" id="d2268e1827"><a name="d2268e1827"><!----></a>Writes an xtpxlib (3) container structure to disk. A base path must be provided, either as option <code class="code">$href-target</code> path or as <code class="code">/*/@href-target</code>.</p><div class="table nonumber" id="d2268e1835"><a name="d2268e1835"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e1842" class="thead-light"><tr id="d2268e1843"><th id="d2268e1844"><a name="d2268e1844"><!----></a>Port</th><th id="d2268e1846"><a name="d2268e1846"><!----></a>Type</th><th id="d2268e1848"><a name="d2268e1848"><!----></a>Primary?</th><th id="d2268e1850"><a name="d2268e1850"><!----></a>Description</th></tr></thead><tbody id="d2268e1852"><tr id="d2268e1853"><td id="d2268e1854"><a name="d2268e1854"><!----></a><a name="d2268e1855"><!----></a><code class="code code-width-limited">source</code></td><td id="d2268e1858"><a name="d2268e1858"><!----></a>in</td><td id="d2268e1860"><a name="d2268e1860"><!----></a>yes</td><td id="d2268e1862"><a name="d2268e1862"><!----></a><a name="d2268e1863"><!----></a>The container to process.</td></tr><tr id="d2268e1865"><td id="d2268e1866"><a name="d2268e1866"><!----></a><a name="d2268e1867"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e1870"><a name="d2268e1870"><!----></a>out</td><td id="d2268e1872"><a name="d2268e1872"><!----></a>yes</td><td id="d2268e1874"><a name="d2268e1874"><!----></a><a name="d2268e1875"><!----></a>The input container structure with additional shadow attributes filled.</td></tr></tbody></table></div><div class="table nonumber" id="d2268e1877"><a name="d2268e1877"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e1885" class="thead-light"><tr id="d2268e1886"><th id="d2268e1887"><a name="d2268e1887"><!----></a>Option</th><th id="d2268e1889"><a name="d2268e1889"><!----></a>Type</th><th id="d2268e1891"><a name="d2268e1891"><!----></a>Rq?</th><th id="d2268e1893"><a name="d2268e1893"><!----></a>Default</th><th id="d2268e1895"><a name="d2268e1895"><!----></a>Description</th></tr></thead><tbody id="d2268e1897"><tr id="d2268e1898"><td id="d2268e1899"><a name="d2268e1899"><!----></a><a name="d2268e1900"><!----></a><code class="code code-width-limited">href-target-path</code></td><td id="d2268e1903"><a name="d2268e1903"><!----></a><a name="d2268e1904"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e1907"><a name="d2268e1907"><!----></a><a name="d2268e1908"><!----></a> </td><td id="d2268e1910"><a name="d2268e1910"><!----></a><a name="d2268e1911"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e1914"><a name="d2268e1914"><!----></a><a name="d2268e1915"><!----></a>Base path where to write the container. When you specify this it will have precedence over a /*/@href-target-path.</td></tr><tr id="d2268e1917"><td id="d2268e1918"><a name="d2268e1918"><!----></a><a name="d2268e1919"><!----></a><code class="code code-width-limited">remove-target</code></td><td id="d2268e1922"><a name="d2268e1922"><!----></a><a name="d2268e1923"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e1926"><a name="d2268e1926"><!----></a><a name="d2268e1927"><!----></a> </td><td id="d2268e1929"><a name="d2268e1929"><!----></a><a name="d2268e1930"><!----></a><code class="code code-width-limited">true()</code></td><td id="d2268e1933"><a name="d2268e1933"><!----></a><a name="d2268e1934"><!----></a>Whether to attempt to remove the target directory before writing.</td></tr></tbody></table></div></div><div class="sect1" id="xproc3-container-to-zip.xpl"><a name="xproc3-container-to-zip.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.2</span> XProc (3.0) pipeline: <code class="code">container-to-zip.xpl</code></h2><p class="para keep-with-next" id="d2268e1941"><a name="d2268e1941"><!----></a>File: <code class="code">xpl3mod/container-to-zip/container-to-zip.xpl</code></p><p class="para" id="d2268e1945"><a name="d2268e1945"><!----></a>Type: <code class="code">xtlcon:container-to-zip</code></p><p class="para" id="d2268e1949"><a name="d2268e1949"><!----></a>Writes an xtpxlib (3) container structure to a zip file. A name for the output zip can be specified in either option <code class="code">$href-target-zip</code> or on the container in <code class="code">/*/@href-target-zip</code>.</p><div class="table nonumber" id="d2268e1957"><a name="d2268e1957"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e1964" class="thead-light"><tr id="d2268e1965"><th id="d2268e1966"><a name="d2268e1966"><!----></a>Port</th><th id="d2268e1968"><a name="d2268e1968"><!----></a>Type</th><th id="d2268e1970"><a name="d2268e1970"><!----></a>Primary?</th><th id="d2268e1972"><a name="d2268e1972"><!----></a>Description</th></tr></thead><tbody id="d2268e1974"><tr id="d2268e1975"><td id="d2268e1976"><a name="d2268e1976"><!----></a><a name="d2268e1977"><!----></a><code class="code code-width-limited">source</code></td><td id="d2268e1980"><a name="d2268e1980"><!----></a>in</td><td id="d2268e1982"><a name="d2268e1982"><!----></a>yes</td><td id="d2268e1984"><a name="d2268e1984"><!----></a><a name="d2268e1985"><!----></a>The container to process.</td></tr><tr id="d2268e1987"><td id="d2268e1988"><a name="d2268e1988"><!----></a><a name="d2268e1989"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e1992"><a name="d2268e1992"><!----></a>out</td><td id="d2268e1994"><a name="d2268e1994"><!----></a>yes</td><td id="d2268e1996"><a name="d2268e1996"><!----></a><a name="d2268e1997"><!----></a>The input container structure with additional shadow attributes filled.</td></tr></tbody></table></div><div class="table nonumber" id="d2268e1999"><a name="d2268e1999"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2007" class="thead-light"><tr id="d2268e2008"><th id="d2268e2009"><a name="d2268e2009"><!----></a>Option</th><th id="d2268e2011"><a name="d2268e2011"><!----></a>Type</th><th id="d2268e2013"><a name="d2268e2013"><!----></a>Rq?</th><th id="d2268e2015"><a name="d2268e2015"><!----></a>Default</th><th id="d2268e2017"><a name="d2268e2017"><!----></a>Description</th></tr></thead><tbody id="d2268e2019"><tr id="d2268e2020"><td id="d2268e2021"><a name="d2268e2021"><!----></a><a name="d2268e2022"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d2268e2025"><a name="d2268e2025"><!----></a><a name="d2268e2026"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2029"><a name="d2268e2029"><!----></a><a name="d2268e2030"><!----></a> </td><td id="d2268e2032"><a name="d2268e2032"><!----></a><a name="d2268e2033"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2036"><a name="d2268e2036"><!----></a><a name="d2268e2037"><!----></a>Name of the zip file to write. When you specify this it will have precedence over a <code class="code">/*/@href-target-zip</code>.</td></tr></tbody></table></div></div><div class="sect1" id="xproc3-directory-to-container.xpl"><a name="xproc3-directory-to-container.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.3</span> XProc (3.0) pipeline: <code class="code">directory-to-container.xpl</code></h2><p class="para keep-with-next" id="d2268e2047"><a name="d2268e2047"><!----></a>File: <code class="code">xpl3mod/directory-to-container/directory-to-container.xpl</code></p><p class="para" id="d2268e2051"><a name="d2268e2051"><!----></a>Type: <code class="code">xtlcon:directory-to-container</code></p><p class="para" id="d2268e2055"><a name="d2268e2055"><!----></a>Loads a directory (with optional sub-directories) into an xtpxlib (3) container structure.</p><div class="table nonumber" id="d2268e2057"><a name="d2268e2057"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2064" class="thead-light"><tr id="d2268e2065"><th id="d2268e2066"><a name="d2268e2066"><!----></a>Port</th><th id="d2268e2068"><a name="d2268e2068"><!----></a>Type</th><th id="d2268e2070"><a name="d2268e2070"><!----></a>Primary?</th><th id="d2268e2072"><a name="d2268e2072"><!----></a>Description</th></tr></thead><tbody id="d2268e2074"><tr id="d2268e2075"><td id="d2268e2076"><a name="d2268e2076"><!----></a><a name="d2268e2077"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e2080"><a name="d2268e2080"><!----></a>out</td><td id="d2268e2082"><a name="d2268e2082"><!----></a>yes</td><td id="d2268e2084"><a name="d2268e2084"><!----></a><a name="d2268e2085"><!----></a>The resulting container structure.</td></tr></tbody></table></div><div class="table nonumber" id="d2268e2087"><a name="d2268e2087"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2095" class="thead-light"><tr id="d2268e2096"><th id="d2268e2097"><a name="d2268e2097"><!----></a>Option</th><th id="d2268e2099"><a name="d2268e2099"><!----></a>Type</th><th id="d2268e2101"><a name="d2268e2101"><!----></a>Rq?</th><th id="d2268e2103"><a name="d2268e2103"><!----></a>Default</th><th id="d2268e2105"><a name="d2268e2105"><!----></a>Description</th></tr></thead><tbody id="d2268e2107"><tr id="d2268e2108"><td id="d2268e2109"><a name="d2268e2109"><!----></a><a name="d2268e2110"><!----></a><code class="code code-width-limited">add-document-target-paths</code></td><td id="d2268e2113"><a name="d2268e2113"><!----></a><a name="d2268e2114"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2117"><a name="d2268e2117"><!----></a><a name="d2268e2118"><!----></a> </td><td id="d2268e2120"><a name="d2268e2120"><!----></a><a name="d2268e2121"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2124"><a name="d2268e2124"><!----></a><a name="d2268e2125"><!----></a>Copies the relative source path as the target path <code class="code">@target-path</code> for the individual documents.<br/><a name="d2268e2130"><!----></a>The idea behind this is that in some cases you want to write almost the same structure back to disk. Recording the relative source path as the target path makes this easier: you don't have to set it explicitly.</td></tr><tr id="d2268e2132"><td id="d2268e2133"><a name="d2268e2133"><!----></a><a name="d2268e2134"><!----></a><code class="code code-width-limited">depth</code></td><td id="d2268e2137"><a name="d2268e2137"><!----></a><a name="d2268e2138"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d2268e2141"><a name="d2268e2141"><!----></a><a name="d2268e2142"><!----></a> </td><td id="d2268e2144"><a name="d2268e2144"><!----></a><a name="d2268e2145"><!----></a><code class="code code-width-limited">-1</code></td><td id="d2268e2148"><a name="d2268e2148"><!----></a><a name="d2268e2149"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d2268e2154"><td id="d2268e2155"><a name="d2268e2155"><!----></a><a name="d2268e2156"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d2268e2159"><a name="d2268e2159"><!----></a><a name="d2268e2160"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d2268e2163"><a name="d2268e2163"><!----></a><a name="d2268e2164"><!----></a> </td><td id="d2268e2166"><a name="d2268e2166"><!----></a><a name="d2268e2167"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d2268e2170"><a name="d2268e2170"><!----></a><a name="d2268e2171"><!----></a>Optional regular expression exclude filters. By default, <code class="code">.git</code> directories are excluded.</td></tr><tr id="d2268e2176"><td id="d2268e2177"><a name="d2268e2177"><!----></a><a name="d2268e2178"><!----></a><code class="code code-width-limited">href-source-directory</code></td><td id="d2268e2181"><a name="d2268e2181"><!----></a><a name="d2268e2182"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d2268e2185"><a name="d2268e2185"><!----></a><a name="d2268e2186"><!----></a>yes</td><td id="d2268e2188"><a name="d2268e2188"><!----></a><a name="d2268e2189"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2191"><a name="d2268e2191"><!----></a><a name="d2268e2192"><!----></a>URI of the directory to read.</td></tr><tr id="d2268e2194"><td id="d2268e2195"><a name="d2268e2195"><!----></a><a name="d2268e2196"><!----></a><code class="code code-width-limited">href-target-path</code></td><td id="d2268e2199"><a name="d2268e2199"><!----></a><a name="d2268e2200"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2203"><a name="d2268e2203"><!----></a><a name="d2268e2204"><!----></a> </td><td id="d2268e2206"><a name="d2268e2206"><!----></a><a name="d2268e2207"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2210"><a name="d2268e2210"><!----></a><a name="d2268e2211"><!----></a>Optional target path to record on the container.<br/><a name="d2268e2213"><!----></a>The idea behind this is that this makes it easier to write the container back to another location on disk, the target path is already there.</td></tr><tr id="d2268e2215"><td id="d2268e2216"><a name="d2268e2216"><!----></a><a name="d2268e2217"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d2268e2220"><a name="d2268e2220"><!----></a><a name="d2268e2221"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d2268e2224"><a name="d2268e2224"><!----></a><a name="d2268e2225"><!----></a> </td><td id="d2268e2227"><a name="d2268e2227"><!----></a><a name="d2268e2228"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2231"><a name="d2268e2231"><!----></a><a name="d2268e2232"><!----></a>Optional regular expression include filters.</td></tr><tr id="d2268e2234"><td id="d2268e2235"><a name="d2268e2235"><!----></a><a name="d2268e2236"><!----></a><code class="code code-width-limited">json-as-xml</code></td><td id="d2268e2239"><a name="d2268e2239"><!----></a><a name="d2268e2240"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2243"><a name="d2268e2243"><!----></a><a name="d2268e2244"><!----></a> </td><td id="d2268e2246"><a name="d2268e2246"><!----></a><a name="d2268e2247"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2250"><a name="d2268e2250"><!----></a><a name="d2268e2251"><!----></a>When JSON files are loaded (<code class="code">option $load-json</code> is <code class="code">true</code>): whether to add them to the container as XML or as JSON text. It will set the entry's content type to <code class="code">application/json+xml</code>.</td></tr><tr id="d2268e2262"><td id="d2268e2263"><a name="d2268e2263"><!----></a><a name="d2268e2264"><!----></a><code class="code code-width-limited">load-html</code></td><td id="d2268e2267"><a name="d2268e2267"><!----></a><a name="d2268e2268"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2271"><a name="d2268e2271"><!----></a><a name="d2268e2272"><!----></a> </td><td id="d2268e2274"><a name="d2268e2274"><!----></a><a name="d2268e2275"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2278"><a name="d2268e2278"><!----></a><a name="d2268e2279"><!----></a>Whether to load HTML files.</td></tr><tr id="d2268e2281"><td id="d2268e2282"><a name="d2268e2282"><!----></a><a name="d2268e2283"><!----></a><code class="code code-width-limited">load-json</code></td><td id="d2268e2286"><a name="d2268e2286"><!----></a><a name="d2268e2287"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2290"><a name="d2268e2290"><!----></a><a name="d2268e2291"><!----></a> </td><td id="d2268e2293"><a name="d2268e2293"><!----></a><a name="d2268e2294"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2297"><a name="d2268e2297"><!----></a><a name="d2268e2298"><!----></a>Whether to load JSON files.</td></tr><tr id="d2268e2300"><td id="d2268e2301"><a name="d2268e2301"><!----></a><a name="d2268e2302"><!----></a><code class="code code-width-limited">load-text</code></td><td id="d2268e2305"><a name="d2268e2305"><!----></a><a name="d2268e2306"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2309"><a name="d2268e2309"><!----></a><a name="d2268e2310"><!----></a> </td><td id="d2268e2312"><a name="d2268e2312"><!----></a><a name="d2268e2313"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2316"><a name="d2268e2316"><!----></a><a name="d2268e2317"><!----></a>Whether to load text files.</td></tr><tr id="d2268e2319"><td id="d2268e2320"><a name="d2268e2320"><!----></a><a name="d2268e2321"><!----></a><code class="code code-width-limited">override-content-types</code></td><td id="d2268e2324"><a name="d2268e2324"><!----></a><a name="d2268e2325"><!----></a><code class="code code-width-limited">array(array(xs:string))?</code></td><td id="d2268e2328"><a name="d2268e2328"><!----></a><a name="d2268e2329"><!----></a> </td><td id="d2268e2331"><a name="d2268e2331"><!----></a><a name="d2268e2332"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2335"><a name="d2268e2335"><!----></a><a name="d2268e2336"><!----></a>Override content types specification (see description of <code class="code">p:directory-list</code>).</td></tr></tbody></table></div></div><div class="sect1" id="xproc3-load-for-container.xpl"><a name="xproc3-load-for-container.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.4</span> XProc (3.0) pipeline: <code class="code">load-for-container.xpl</code></h2><p class="para keep-with-next" id="d2268e2346"><a name="d2268e2346"><!----></a>File: <code class="code">xpl3mod/local/load-for-container.xpl</code></p><p class="para" id="d2268e2350"><a name="d2268e2350"><!----></a>Type: <code class="code">xtlcon:load-for-container</code></p><p class="para" id="d2268e2354"><a name="d2268e2354"><!----></a>Local support step that loads a single file from a zip or file, and performs all the necessary container loading handling. The result will be a single container entry.</p><div class="table nonumber" id="d2268e2356"><a name="d2268e2356"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2363" class="thead-light"><tr id="d2268e2364"><th id="d2268e2365"><a name="d2268e2365"><!----></a>Port</th><th id="d2268e2367"><a name="d2268e2367"><!----></a>Type</th><th id="d2268e2369"><a name="d2268e2369"><!----></a>Primary?</th><th id="d2268e2371"><a name="d2268e2371"><!----></a>Description</th></tr></thead><tbody id="d2268e2373"><tr id="d2268e2374"><td id="d2268e2375"><a name="d2268e2375"><!----></a><a name="d2268e2376"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e2379"><a name="d2268e2379"><!----></a>out</td><td id="d2268e2381"><a name="d2268e2381"><!----></a>yes</td><td id="d2268e2383"><a name="d2268e2383"><!----></a><a name="d2268e2384"><!----></a>The resulting container entry</td></tr></tbody></table></div><div class="table nonumber" id="d2268e2386"><a name="d2268e2386"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2394" class="thead-light"><tr id="d2268e2395"><th id="d2268e2396"><a name="d2268e2396"><!----></a>Option</th><th id="d2268e2398"><a name="d2268e2398"><!----></a>Type</th><th id="d2268e2400"><a name="d2268e2400"><!----></a>Rq?</th><th id="d2268e2402"><a name="d2268e2402"><!----></a>Default</th><th id="d2268e2404"><a name="d2268e2404"><!----></a>Description</th></tr></thead><tbody id="d2268e2406"><tr id="d2268e2407"><td id="d2268e2408"><a name="d2268e2408"><!----></a><a name="d2268e2409"><!----></a><code class="code code-width-limited">add-document-target-paths</code></td><td id="d2268e2412"><a name="d2268e2412"><!----></a><a name="d2268e2413"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2416"><a name="d2268e2416"><!----></a><a name="d2268e2417"><!----></a>yes</td><td id="d2268e2419"><a name="d2268e2419"><!----></a><a name="d2268e2420"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2422"><a name="d2268e2422"><!----></a><a name="d2268e2423"><!----></a>If true, copies the relative source path as the target path <code class="code">@target-path</code> for the individual documents.</td></tr><tr id="d2268e2428"><td id="d2268e2429"><a name="d2268e2429"><!----></a><a name="d2268e2430"><!----></a><code class="code code-width-limited">content-type</code></td><td id="d2268e2433"><a name="d2268e2433"><!----></a><a name="d2268e2434"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2437"><a name="d2268e2437"><!----></a><a name="d2268e2438"><!----></a>yes</td><td id="d2268e2440"><a name="d2268e2440"><!----></a><a name="d2268e2441"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2443"><a name="d2268e2443"><!----></a><a name="d2268e2444"><!----></a>Expected content-type of the entry.</td></tr><tr id="d2268e2446"><td id="d2268e2447"><a name="d2268e2447"><!----></a><a name="d2268e2448"><!----></a><code class="code code-width-limited">href-source-abs</code></td><td id="d2268e2451"><a name="d2268e2451"><!----></a><a name="d2268e2452"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2455"><a name="d2268e2455"><!----></a><a name="d2268e2456"><!----></a> </td><td id="d2268e2458"><a name="d2268e2458"><!----></a><a name="d2268e2459"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2462"><a name="d2268e2462"><!----></a><a name="d2268e2463"><!----></a>Absolute filename of the file to load from the file system. Ignored when loading from zip.</td></tr><tr id="d2268e2465"><td id="d2268e2466"><a name="d2268e2466"><!----></a><a name="d2268e2467"><!----></a><code class="code code-width-limited">href-source-rel</code></td><td id="d2268e2470"><a name="d2268e2470"><!----></a><a name="d2268e2471"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d2268e2474"><a name="d2268e2474"><!----></a><a name="d2268e2475"><!----></a>yes</td><td id="d2268e2477"><a name="d2268e2477"><!----></a><a name="d2268e2478"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2480"><a name="d2268e2480"><!----></a><a name="d2268e2481"><!----></a>Relative filename of the file to load. Used when loading files from a zip and recorded as @href-source on the entry.</td></tr><tr id="d2268e2483"><td id="d2268e2484"><a name="d2268e2484"><!----></a><a name="d2268e2485"><!----></a><code class="code code-width-limited">href-zip</code></td><td id="d2268e2488"><a name="d2268e2488"><!----></a><a name="d2268e2489"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2492"><a name="d2268e2492"><!----></a><a name="d2268e2493"><!----></a> </td><td id="d2268e2495"><a name="d2268e2495"><!----></a><a name="d2268e2496"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2499"><a name="d2268e2499"><!----></a><a name="d2268e2500"><!----></a>Name of the zip file to use. If (), load from the file system.</td></tr><tr id="d2268e2502"><td id="d2268e2503"><a name="d2268e2503"><!----></a><a name="d2268e2504"><!----></a><code class="code code-width-limited">json-as-xml</code></td><td id="d2268e2507"><a name="d2268e2507"><!----></a><a name="d2268e2508"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2511"><a name="d2268e2511"><!----></a><a name="d2268e2512"><!----></a>yes</td><td id="d2268e2514"><a name="d2268e2514"><!----></a><a name="d2268e2515"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2517"><a name="d2268e2517"><!----></a><a name="d2268e2518"><!----></a>When json files are loaded (<code class="code">option $load-json</code> is <code class="code">true</code>): whether to add them to the container as XML or as JSON text. It will set the entry's content type to <code class="code">application/json+xml</code>.</td></tr><tr id="d2268e2529"><td id="d2268e2530"><a name="d2268e2530"><!----></a><a name="d2268e2531"><!----></a><code class="code code-width-limited">load-html</code></td><td id="d2268e2534"><a name="d2268e2534"><!----></a><a name="d2268e2535"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2538"><a name="d2268e2538"><!----></a><a name="d2268e2539"><!----></a>yes</td><td id="d2268e2541"><a name="d2268e2541"><!----></a><a name="d2268e2542"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2544"><a name="d2268e2544"><!----></a><a name="d2268e2545"><!----></a>Whether to load HTML files.</td></tr><tr id="d2268e2547"><td id="d2268e2548"><a name="d2268e2548"><!----></a><a name="d2268e2549"><!----></a><code class="code code-width-limited">load-json</code></td><td id="d2268e2552"><a name="d2268e2552"><!----></a><a name="d2268e2553"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2556"><a name="d2268e2556"><!----></a><a name="d2268e2557"><!----></a>yes</td><td id="d2268e2559"><a name="d2268e2559"><!----></a><a name="d2268e2560"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2562"><a name="d2268e2562"><!----></a><a name="d2268e2563"><!----></a>Whether to load JSON files.</td></tr><tr id="d2268e2565"><td id="d2268e2566"><a name="d2268e2566"><!----></a><a name="d2268e2567"><!----></a><code class="code code-width-limited">load-text</code></td><td id="d2268e2570"><a name="d2268e2570"><!----></a><a name="d2268e2571"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2574"><a name="d2268e2574"><!----></a><a name="d2268e2575"><!----></a>yes</td><td id="d2268e2577"><a name="d2268e2577"><!----></a><a name="d2268e2578"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2580"><a name="d2268e2580"><!----></a><a name="d2268e2581"><!----></a>Whether to load text files.</td></tr></tbody></table></div></div><div class="sect1" id="xproc3-load-from-container.xpl"><a name="xproc3-load-from-container.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.5</span> XProc (3.0) pipeline: <code class="code">load-from-container.xpl</code></h2><p class="para keep-with-next" id="d2268e2588"><a name="d2268e2588"><!----></a>File: <code class="code">xpl3mod/local/load-from-container.xpl</code></p><p class="para" id="d2268e2592"><a name="d2268e2592"><!----></a>Type: <code class="code">xtlcon:load-from-container</code></p><p class="para" id="d2268e2596"><a name="d2268e2596"><!----></a>Step that loads the files, as specified by a container, that need to be written to disk:</p><ul class="itemizedlist" id="d2268e2598"><a name="d2268e2598"><!----></a><li id="d2268e2599"><a name="d2268e2599"><!----></a><p class="para" id="d2268e2600"><a name="d2268e2600"><!----></a>Only loads the documents for which an <code class="code">href-target</code> is there</p></li><li id="d2268e2605"><a name="d2268e2605"><!----></a><p class="para" id="d2268e2606"><a name="d2268e2606"><!----></a>For every document loaded, it adds the following additional properties:</p><ul class="itemizedlist" id="d2268e2608"><a name="d2268e2608"><!----></a><li id="d2268e2609"><a name="d2268e2609"><!----></a><p class="para" id="d2268e2610"><a name="d2268e2610"><!----></a>href-target: The actual target URI for the document (absolute for writing to disk, relative for writing to zips)s</p></li><li id="d2268e2612"><a name="d2268e2612"><!----></a><p class="para" id="d2268e2613"><a name="d2268e2613"><!----></a>href-target-original: The original value as set by @href-target</p></li><li id="d2268e2615"><a name="d2268e2615"><!----></a><p class="para" id="d2268e2616"><a name="d2268e2616"><!----></a>base-uri: Something unique (necessary for creating the zip since we need to address the loaded files as unique by their base-uri-s). Not reflects anything in the real world!</p></li></ul></li><li id="d2268e2618"><a name="d2268e2618"><!----></a><p class="para" id="d2268e2619"><a name="d2268e2619"><!----></a>For documents stated <span class="emphasis italic">in</span> the container, it sets the property:</p><ul class="itemizedlist" id="d2268e2624"><a name="d2268e2624"><!----></a><li id="d2268e2625"><a name="d2268e2625"><!----></a><p class="para" id="d2268e2626"><a name="d2268e2626"><!----></a>serialization: The serialization options for this document (including, most importantly, method and media-type)</p></li></ul></li><li id="d2268e2628"><a name="d2268e2628"><!----></a><p class="para" id="d2268e2629"><a name="d2268e2629"><!----></a>External documents are always loaded as application/octet-stream.</p></li></ul><p class="para" id="d2268e2631"><a name="d2268e2631"><!----></a>Provides an additional output port "container" that outputs the original container, supplemented with all the appropriate shadow attributes (starting with _).</p><div class="table nonumber" id="d2268e2633"><a name="d2268e2633"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2640" class="thead-light"><tr id="d2268e2641"><th id="d2268e2642"><a name="d2268e2642"><!----></a>Port</th><th id="d2268e2644"><a name="d2268e2644"><!----></a>Type</th><th id="d2268e2646"><a name="d2268e2646"><!----></a>Primary?</th><th id="d2268e2648"><a name="d2268e2648"><!----></a>Description</th></tr></thead><tbody id="d2268e2650"><tr id="d2268e2651"><td id="d2268e2652"><a name="d2268e2652"><!----></a><a name="d2268e2653"><!----></a><code class="code code-width-limited">source</code></td><td id="d2268e2656"><a name="d2268e2656"><!----></a>in</td><td id="d2268e2658"><a name="d2268e2658"><!----></a>yes</td><td id="d2268e2660"><a name="d2268e2660"><!----></a><a name="d2268e2661"><!----></a>The container to load</td></tr><tr id="d2268e2663"><td id="d2268e2664"><a name="d2268e2664"><!----></a><a name="d2268e2665"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e2668"><a name="d2268e2668"><!----></a>out</td><td id="d2268e2670"><a name="d2268e2670"><!----></a>yes</td><td id="d2268e2672"><a name="d2268e2672"><!----></a><a name="d2268e2673"><!----></a>The resulting documents with some additional document properties (see pipeline description).</td></tr><tr id="d2268e2675"><td id="d2268e2676"><a name="d2268e2676"><!----></a><a name="d2268e2677"><!----></a><code class="code code-width-limited">container</code></td><td id="d2268e2680"><a name="d2268e2680"><!----></a>out</td><td id="d2268e2682"><a name="d2268e2682"><!----></a> </td><td id="d2268e2684"><a name="d2268e2684"><!----></a><a name="d2268e2685"><!----></a>The original container, supplemented with additional shadow attributes for the paths and filenames.</td></tr></tbody></table></div><div class="table nonumber" id="d2268e2687"><a name="d2268e2687"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2695" class="thead-light"><tr id="d2268e2696"><th id="d2268e2697"><a name="d2268e2697"><!----></a>Option</th><th id="d2268e2699"><a name="d2268e2699"><!----></a>Type</th><th id="d2268e2701"><a name="d2268e2701"><!----></a>Rq?</th><th id="d2268e2703"><a name="d2268e2703"><!----></a>Default</th><th id="d2268e2705"><a name="d2268e2705"><!----></a>Description</th></tr></thead><tbody id="d2268e2707"><tr id="d2268e2708"><td id="d2268e2709"><a name="d2268e2709"><!----></a><a name="d2268e2710"><!----></a><code class="code code-width-limited">do-container-paths-for-zip</code></td><td id="d2268e2713"><a name="d2268e2713"><!----></a><a name="d2268e2714"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2717"><a name="d2268e2717"><!----></a><a name="d2268e2718"><!----></a>yes</td><td id="d2268e2720"><a name="d2268e2720"><!----></a><a name="d2268e2721"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2723"><a name="d2268e2723"><!----></a><a name="d2268e2724"><!----></a>Set to true for container-to-zip, false otherwise.</td></tr><tr id="d2268e2726"><td id="d2268e2727"><a name="d2268e2727"><!----></a><a name="d2268e2728"><!----></a><code class="code code-width-limited">href-target-path</code></td><td id="d2268e2731"><a name="d2268e2731"><!----></a><a name="d2268e2732"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2735"><a name="d2268e2735"><!----></a><a name="d2268e2736"><!----></a> </td><td id="d2268e2738"><a name="d2268e2738"><!----></a><a name="d2268e2739"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2742"><a name="d2268e2742"><!----></a><a name="d2268e2743"><!----></a>Base path where to write the documents, used for computing the target locations. When you specify this it will have precedence over a /*/@href-target-path.</td></tr><tr id="d2268e2745"><td id="d2268e2746"><a name="d2268e2746"><!----></a><a name="d2268e2747"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d2268e2750"><a name="d2268e2750"><!----></a><a name="d2268e2751"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2754"><a name="d2268e2754"><!----></a><a name="d2268e2755"><!----></a> </td><td id="d2268e2757"><a name="d2268e2757"><!----></a><a name="d2268e2758"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2761"><a name="d2268e2761"><!----></a><a name="d2268e2762"><!----></a>Zip file location. When you specify this it will have precedence over a /*/@href-target-zip.</td></tr><tr id="d2268e2764"><td id="d2268e2765"><a name="d2268e2765"><!----></a><a name="d2268e2766"><!----></a><code class="code code-width-limited">main-pipeline-static-base-uri</code></td><td id="d2268e2769"><a name="d2268e2769"><!----></a><a name="d2268e2770"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d2268e2773"><a name="d2268e2773"><!----></a><a name="d2268e2774"><!----></a>yes</td><td id="d2268e2776"><a name="d2268e2776"><!----></a><a name="d2268e2777"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2779"><a name="d2268e2779"><!----></a><a name="d2268e2780"><!----></a>The <code class="code">static-base-uri()</code> of the calling pipeline.</td></tr></tbody></table></div></div><div class="sect1" id="xproc3-report-error.xpl"><a name="xproc3-report-error.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.6</span> XProc (3.0) pipeline: <code class="code">report-error.xpl</code></h2><p class="para keep-with-next" id="d2268e2791"><a name="d2268e2791"><!----></a>File: <code class="code">xpl3mod/local/report-error.xpl</code></p><p class="para" id="d2268e2795"><a name="d2268e2795"><!----></a>Type: <code class="code">xtlcon:report-error</code></p><p class="para" id="d2268e2799"><a name="d2268e2799"><!----></a>Creates a standard error message for errors occurring in the container pipelines.</p><div class="table nonumber" id="d2268e2801"><a name="d2268e2801"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2808" class="thead-light"><tr id="d2268e2809"><th id="d2268e2810"><a name="d2268e2810"><!----></a>Port</th><th id="d2268e2812"><a name="d2268e2812"><!----></a>Type</th><th id="d2268e2814"><a name="d2268e2814"><!----></a>Primary?</th><th id="d2268e2816"><a name="d2268e2816"><!----></a>Description</th></tr></thead><tbody id="d2268e2818"><tr id="d2268e2819"><td id="d2268e2820"><a name="d2268e2820"><!----></a><a name="d2268e2821"><!----></a><code class="code code-width-limited">source</code></td><td id="d2268e2824"><a name="d2268e2824"><!----></a>in</td><td id="d2268e2826"><a name="d2268e2826"><!----></a>yes</td><td id="d2268e2828"><a name="d2268e2828"><!----></a><a name="d2268e2829"><!----></a>The original error document (c:errors element).</td></tr><tr id="d2268e2831"><td id="d2268e2832"><a name="d2268e2832"><!----></a><a name="d2268e2833"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e2836"><a name="d2268e2836"><!----></a>out</td><td id="d2268e2838"><a name="d2268e2838"><!----></a>yes</td><td id="d2268e2840"><a name="d2268e2840"><!----></a><a name="d2268e2841"><!----></a>This output port is just here for convenience. No document will ever appear on it because the step always fails.</td></tr></tbody></table></div><div class="table nonumber" id="d2268e2843"><a name="d2268e2843"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2851" class="thead-light"><tr id="d2268e2852"><th id="d2268e2853"><a name="d2268e2853"><!----></a>Option</th><th id="d2268e2855"><a name="d2268e2855"><!----></a>Type</th><th id="d2268e2857"><a name="d2268e2857"><!----></a>Rq?</th><th id="d2268e2859"><a name="d2268e2859"><!----></a>Default</th><th id="d2268e2861"><a name="d2268e2861"><!----></a>Description</th></tr></thead><tbody id="d2268e2863"><tr id="d2268e2864"><td id="d2268e2865"><a name="d2268e2865"><!----></a><a name="d2268e2866"><!----></a><code class="code code-width-limited">error-code</code></td><td id="d2268e2869"><a name="d2268e2869"><!----></a><a name="d2268e2870"><!----></a><code class="code code-width-limited">xs:QName</code></td><td id="d2268e2873"><a name="d2268e2873"><!----></a><a name="d2268e2874"><!----></a>yes</td><td id="d2268e2876"><a name="d2268e2876"><!----></a><a name="d2268e2877"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2879"><a name="d2268e2879"><!----></a></td></tr><tr id="d2268e2880"><td id="d2268e2881"><a name="d2268e2881"><!----></a><a name="d2268e2882"><!----></a><code class="code code-width-limited">href-target</code></td><td id="d2268e2885"><a name="d2268e2885"><!----></a><a name="d2268e2886"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e2889"><a name="d2268e2889"><!----></a><a name="d2268e2890"><!----></a> </td><td id="d2268e2892"><a name="d2268e2892"><!----></a><a name="d2268e2893"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e2896"><a name="d2268e2896"><!----></a></td></tr><tr id="d2268e2897"><td id="d2268e2898"><a name="d2268e2898"><!----></a><a name="d2268e2899"><!----></a><code class="code code-width-limited">message</code></td><td id="d2268e2902"><a name="d2268e2902"><!----></a><a name="d2268e2903"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d2268e2906"><a name="d2268e2906"><!----></a><a name="d2268e2907"><!----></a>yes</td><td id="d2268e2909"><a name="d2268e2909"><!----></a><a name="d2268e2910"><!----></a><code class="code code-width-limited"/></td><td id="d2268e2912"><a name="d2268e2912"><!----></a></td></tr></tbody></table></div></div><div class="sect1" id="xproc3-zip-to-container.xpl"><a name="xproc3-zip-to-container.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.7</span> XProc (3.0) pipeline: <code class="code">zip-to-container.xpl</code></h2><p class="para keep-with-next" id="d2268e2918"><a name="d2268e2918"><!----></a>File: <code class="code">xpl3mod/zip-to-container/zip-to-container.xpl</code></p><p class="para" id="d2268e2922"><a name="d2268e2922"><!----></a>Type: <code class="code">xtlcon:zip-to-container</code></p><p class="para" id="d2268e2926"><a name="d2268e2926"><!----></a>Loads the contents of a zip file (directory depth can be set) into an xtpxlib (3) container structure.</p><div class="table nonumber" id="d2268e2928"><a name="d2268e2928"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2935" class="thead-light"><tr id="d2268e2936"><th id="d2268e2937"><a name="d2268e2937"><!----></a>Port</th><th id="d2268e2939"><a name="d2268e2939"><!----></a>Type</th><th id="d2268e2941"><a name="d2268e2941"><!----></a>Primary?</th><th id="d2268e2943"><a name="d2268e2943"><!----></a>Description</th></tr></thead><tbody id="d2268e2945"><tr id="d2268e2946"><td id="d2268e2947"><a name="d2268e2947"><!----></a><a name="d2268e2948"><!----></a><code class="code code-width-limited">result</code></td><td id="d2268e2951"><a name="d2268e2951"><!----></a>out</td><td id="d2268e2953"><a name="d2268e2953"><!----></a>yes</td><td id="d2268e2955"><a name="d2268e2955"><!----></a><a name="d2268e2956"><!----></a>The resulting container structure</td></tr></tbody></table></div><div class="table nonumber" id="d2268e2958"><a name="d2268e2958"><!----></a><table class="table table-sm table-bordered"><thead id="d2268e2966" class="thead-light"><tr id="d2268e2967"><th id="d2268e2968"><a name="d2268e2968"><!----></a>Option</th><th id="d2268e2970"><a name="d2268e2970"><!----></a>Type</th><th id="d2268e2972"><a name="d2268e2972"><!----></a>Rq?</th><th id="d2268e2974"><a name="d2268e2974"><!----></a>Default</th><th id="d2268e2976"><a name="d2268e2976"><!----></a>Description</th></tr></thead><tbody id="d2268e2978"><tr id="d2268e2979"><td id="d2268e2980"><a name="d2268e2980"><!----></a><a name="d2268e2981"><!----></a><code class="code code-width-limited">add-document-target-paths</code></td><td id="d2268e2984"><a name="d2268e2984"><!----></a><a name="d2268e2985"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e2988"><a name="d2268e2988"><!----></a><a name="d2268e2989"><!----></a> </td><td id="d2268e2991"><a name="d2268e2991"><!----></a><a name="d2268e2992"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e2995"><a name="d2268e2995"><!----></a><a name="d2268e2996"><!----></a>Copies the relative source path as the target path <code class="code">@target-path</code> for the individual documents.<br/><a name="d2268e3001"><!----></a>The idea behind this is that in some cases you want to write almost the same structure back to disk or zip. Recording the relative source path as the target path makes this easier: you don't have to set it explicitly.</td></tr><tr id="d2268e3003"><td id="d2268e3004"><a name="d2268e3004"><!----></a><a name="d2268e3005"><!----></a><code class="code code-width-limited">depth</code></td><td id="d2268e3008"><a name="d2268e3008"><!----></a><a name="d2268e3009"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d2268e3012"><a name="d2268e3012"><!----></a><a name="d2268e3013"><!----></a> </td><td id="d2268e3015"><a name="d2268e3015"><!----></a><a name="d2268e3016"><!----></a><code class="code code-width-limited">-1</code></td><td id="d2268e3019"><a name="d2268e3019"><!----></a><a name="d2268e3020"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d2268e3025"><td id="d2268e3026"><a name="d2268e3026"><!----></a><a name="d2268e3027"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d2268e3030"><a name="d2268e3030"><!----></a><a name="d2268e3031"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d2268e3034"><a name="d2268e3034"><!----></a><a name="d2268e3035"><!----></a> </td><td id="d2268e3037"><a name="d2268e3037"><!----></a><a name="d2268e3038"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d2268e3041"><a name="d2268e3041"><!----></a><a name="d2268e3042"><!----></a>Optional regular expression exclude filters. By default, <code class="code">.git</code> directories are excluded.</td></tr><tr id="d2268e3047"><td id="d2268e3048"><a name="d2268e3048"><!----></a><a name="d2268e3049"><!----></a><code class="code code-width-limited">href-source-zip</code></td><td id="d2268e3052"><a name="d2268e3052"><!----></a><a name="d2268e3053"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d2268e3056"><a name="d2268e3056"><!----></a><a name="d2268e3057"><!----></a>yes</td><td id="d2268e3059"><a name="d2268e3059"><!----></a><a name="d2268e3060"><!----></a><code class="code code-width-limited"/></td><td id="d2268e3062"><a name="d2268e3062"><!----></a><a name="d2268e3063"><!----></a>URI of the zip file to read.</td></tr><tr id="d2268e3065"><td id="d2268e3066"><a name="d2268e3066"><!----></a><a name="d2268e3067"><!----></a><code class="code code-width-limited">href-target-path</code></td><td id="d2268e3070"><a name="d2268e3070"><!----></a><a name="d2268e3071"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d2268e3074"><a name="d2268e3074"><!----></a><a name="d2268e3075"><!----></a> </td><td id="d2268e3077"><a name="d2268e3077"><!----></a><a name="d2268e3078"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e3081"><a name="d2268e3081"><!----></a><a name="d2268e3082"><!----></a>Optional target path to record on the container.<br/><a name="d2268e3084"><!----></a>The idea behind this is that this makes it easier to write the container back to another location on disk, the target path is already there.</td></tr><tr id="d2268e3086"><td id="d2268e3087"><a name="d2268e3087"><!----></a><a name="d2268e3088"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d2268e3091"><a name="d2268e3091"><!----></a><a name="d2268e3092"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d2268e3095"><a name="d2268e3095"><!----></a><a name="d2268e3096"><!----></a> </td><td id="d2268e3098"><a name="d2268e3098"><!----></a><a name="d2268e3099"><!----></a><code class="code code-width-limited"/></td><td id="d2268e3101"><a name="d2268e3101"><!----></a><a name="d2268e3102"><!----></a>Optional regular expression include filters.</td></tr><tr id="d2268e3104"><td id="d2268e3105"><a name="d2268e3105"><!----></a><a name="d2268e3106"><!----></a><code class="code code-width-limited">json-as-xml</code></td><td id="d2268e3109"><a name="d2268e3109"><!----></a><a name="d2268e3110"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e3113"><a name="d2268e3113"><!----></a><a name="d2268e3114"><!----></a> </td><td id="d2268e3116"><a name="d2268e3116"><!----></a><a name="d2268e3117"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e3120"><a name="d2268e3120"><!----></a><a name="d2268e3121"><!----></a>When JSON files are loaded (<code class="code">option $load-json</code> is <code class="code">true</code>): whether to add them to the container as XML or as JSON text. It will set the entry's content type to <code class="code">application/json+xml</code>.</td></tr><tr id="d2268e3132"><td id="d2268e3133"><a name="d2268e3133"><!----></a><a name="d2268e3134"><!----></a><code class="code code-width-limited">load-html</code></td><td id="d2268e3137"><a name="d2268e3137"><!----></a><a name="d2268e3138"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e3141"><a name="d2268e3141"><!----></a><a name="d2268e3142"><!----></a> </td><td id="d2268e3144"><a name="d2268e3144"><!----></a><a name="d2268e3145"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e3148"><a name="d2268e3148"><!----></a><a name="d2268e3149"><!----></a>Whether to load HTML files.</td></tr><tr id="d2268e3151"><td id="d2268e3152"><a name="d2268e3152"><!----></a><a name="d2268e3153"><!----></a><code class="code code-width-limited">load-json</code></td><td id="d2268e3156"><a name="d2268e3156"><!----></a><a name="d2268e3157"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e3160"><a name="d2268e3160"><!----></a><a name="d2268e3161"><!----></a> </td><td id="d2268e3163"><a name="d2268e3163"><!----></a><a name="d2268e3164"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e3167"><a name="d2268e3167"><!----></a><a name="d2268e3168"><!----></a>Whether to load JSON files.</td></tr><tr id="d2268e3170"><td id="d2268e3171"><a name="d2268e3171"><!----></a><a name="d2268e3172"><!----></a><code class="code code-width-limited">load-text</code></td><td id="d2268e3175"><a name="d2268e3175"><!----></a><a name="d2268e3176"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d2268e3179"><a name="d2268e3179"><!----></a><a name="d2268e3180"><!----></a> </td><td id="d2268e3182"><a name="d2268e3182"><!----></a><a name="d2268e3183"><!----></a><code class="code code-width-limited">false()</code></td><td id="d2268e3186"><a name="d2268e3186"><!----></a><a name="d2268e3187"><!----></a>Whether to load text files.</td></tr><tr id="d2268e3189"><td id="d2268e3190"><a name="d2268e3190"><!----></a><a name="d2268e3191"><!----></a><code class="code code-width-limited">override-content-types</code></td><td id="d2268e3194"><a name="d2268e3194"><!----></a><a name="d2268e3195"><!----></a><code class="code code-width-limited">array(array(xs:string))?</code></td><td id="d2268e3198"><a name="d2268e3198"><!----></a><a name="d2268e3199"><!----></a> </td><td id="d2268e3201"><a name="d2268e3201"><!----></a><a name="d2268e3202"><!----></a><code class="code code-width-limited">()</code></td><td id="d2268e3205"><a name="d2268e3205"><!----></a><a name="d2268e3206"><!----></a>Override content types specification (see description of <code class="code">p:archive-manifest</code>).</td></tr></tbody></table></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>